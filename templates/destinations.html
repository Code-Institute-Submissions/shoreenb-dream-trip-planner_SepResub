{% extends "base.html" %}
{% block content %}

<h3 class="center light-blue-text text-accent-2">
    Manage Destinations
</h3>

<div class="row">
    <div class="col s12 center-align">
        <a href="{{ url_for('add_cities') }}" class="btn-large light-blue darken-1">
            Add Destination<i class="fas fa-plus-square right"></i>
        </a>
    </div>
</div>

<div class="row">
    <div class="col s12 m6 offset-m3">
        <div class="card-panel">
            <div class="bs-example col-md-12">
                <br>
                <table class="table striped centered">
                    <thead>
                        <tr>
                            <th>Country Name</th>
                            <th>City Name</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for city in cities %}
                        <tr>
                            <td>{{ city.country }}</td>
                            <td>{{ city.name }}</td>
                            <td>
                                <a href="{{ url_for('edit_cities', city_id=city._id) }}"
                                    class="btn-small green accent-4">Edit</a>
                                <!-- Remove button and Modal Trigger -->
                                <a href="#{{ city._id }}" class="btn-small red darken-1 modal-trigger">Remove</a>
                            </td>
                        </tr>

                        <!-- Modal Structure -->
                        <div id="{{ city._id }}" class="modal">
                            <div class="modal-content center red-text">
                                <h4>Delete Destination?</h4>
                                <p>This action is permanent. Are you sure you want to delete this Destination?</p>
                            </div>
                            <div class="modal-footer">
                                <a href="#!" class="modal-close waves-effect waves-green green-text btn-flat">No</a>
                                <a href="{{ url_for('delete_cities', city_id=city._id)}}"
                                    class="modal-close waves-effect waves-red red-text btn-flat">Yes</a>
                            </div>
                        </div>

                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}